<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>task15</title>
</head>
<body>
<ul id="source">
    <li>北京空气质量：<b>90</b></li>
    <li>上海空气质量：<b>70</b></li>
    <li>天津空气质量：<b>80</b></li>
    <li>广州空气质量：<b>50</b></li>
    <li>深圳空气质量：<b>40</b></li>
    <li>福州空气质量：<b>32</b></li>
    <li>成都空气质量：<b>90</b></li>
</ul>

<ul id="resort">
    <!--
    <li>第一名：北京空气质量：<b>90</b></li>
    <li>第二名：北京空气质量：<b>90</b></li>
    <li>第三名：北京空气质量：<b>90</b></li>
     -->

</ul>

<button id="sort-btn">排序</button>
<script src="javascripts/until.js"></script>
<script type="text/javascript">
    function $(id){
        return document.getElementById(id);
    }
    var data=[];
//    function getData(){
//        var items=$("source").getElementsByTagName("li");
//        for (var i=0;i<items.length;i++){
//            var city = items[i].firstChild.nodeValue;
//            var num = items[i].childNodes[1].innerHTML;
//            data[i]=[];
//            data[i].push(city);
//            data[i].push(num);
//        }
//        return data;
//    }
//    function sortAqiData(data){
//        data.sort(function(a,b){
//            return a[1]-b[1];
//        });
//        return data;
//    }
//    function render(data){
//        var ul=$("source");
//        var ulOne=$("resort");
//        for(var i=0;i<data.length;i++)
//        {
//            ulOne.innerHTML+='<li>第'+(i+1)+'名:'+data[i][0]+data[i][1]+'</li>';
//        }
//    }
//    function btnHandle() {
//        var aqiData = getData();
//        aqiData = sortAqiData(aqiData);
//        render(aqiData);
//    }
//    function  init(){
//        $("sort-btn").onclick=btnHandle;
//    }
//    init();
    function getDate(){
        var items=$("source").getElementsByTagName("li");
        for (var i= 0,len=items.length;i<len;i++){
            var city=items[i].firstChild.nodeValue;
            var num=items[i].childNodes[1].innerHTML;
            data[i]=[];
            data[i].push(city);
            data[i].push(num);
        }
        return data;
    }
    function resort(data){
        data.sort(function(a,b){
            return a[1]-b[1];
        });
        return data;
    }
    function reder(data){
        var ul=$("resort");
        for (var i=0;i<data.length;i++){
            var li=document.createElement("li");
            li.innerHTML="第"+(i+1)+"名"+data[i][0]+data[i][1];
            ul.appendChild(li);
        }
    }
    function handle(){
        var adDate=getDate();
        adDate=resort(adDate);
        reder(adDate);
    }
    addHandler( $("sort-btn"),"click",handle);
</script>
</body>
</html>